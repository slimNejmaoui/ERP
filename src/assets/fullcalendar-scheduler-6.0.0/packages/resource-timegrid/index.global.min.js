/*!
FullCalendar Resource Time Grid Plugin v6.0.0
Docs & License: https://fullcalendar.io/docs/vertical-resource-view
(c) 2022 Adam Shaw
*/
FullCalendar.ResourceTimeGrid=function(e,t,l,r,s,o,i,a,n,d){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var c=u(r),h=u(s),m=u(o);class p extends n.VResourceJoiner{transformSeg(e,t,l){return[Object.assign(Object.assign({},e),{col:t.computeCol(e.col,l)})]}}class R extends t.DateComponent{constructor(){super(...arguments),this.buildDayRanges=t.memoize(a.buildDayRanges),this.splitter=new n.VResourceSplitter,this.slicers={},this.joiner=new p,this.timeColsRef=i.createRef(),this.isHitComboAllowed=(e,t)=>1===this.dayRanges.length||e.dateSpan.resourceId===t.dateSpan.resourceId}render(){let{props:e,context:l}=this,{dateEnv:r,options:s}=l,{dateProfile:o,resourceDayTableModel:n}=e,d=this.dayRanges=this.buildDayRanges(n.dayTableModel,o,r),u=this.splitter.splitProps(e);this.slicers=t.mapHash(u,(e,t)=>this.slicers[t]||new a.DayTimeColsSlicer);let c=t.mapHash(this.slicers,(e,t)=>e.sliceProps(u[t],o,null,l,d));return i.createElement(t.NowTimer,{unit:s.nowIndicator?"minute":"day"},(t,l)=>i.createElement(a.TimeCols,Object.assign({ref:this.timeColsRef},this.joiner.joinProps(c,n),{dateProfile:o,axis:e.axis,slotDuration:e.slotDuration,slatMetas:e.slatMetas,cells:n.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:t,nowIndicatorSegs:s.nowIndicator&&this.buildNowIndicatorSegs(t),todayRange:l,onScrollTopRequest:e.onScrollTopRequest,forPrint:e.forPrint,onSlatCoords:e.onSlatCoords,isHitComboAllowed:this.isHitComboAllowed})))}buildNowIndicatorSegs(e){let t=this.slicers[""].sliceNowDate(e,this.context,this.dayRanges);return this.joiner.expandSegs(this.props.resourceDayTableModel,t)}}class b extends a.TimeColsView{constructor(){super(...arguments),this.flattenResources=t.memoize(n.flattenResources),this.buildResourceTimeColsModel=t.memoize(y),this.buildSlatMetas=t.memoize(a.buildSlatMetas)}render(){let{props:e,context:t}=this,{options:l,dateEnv:r}=t,{dateProfile:s}=e,o=this.allDaySplitter.splitProps(e),a=l.resourceOrder||n.DEFAULT_RESOURCE_ORDER,u=this.flattenResources(e.resourceStore,a),c=this.buildResourceTimeColsModel(s,t.dateProfileGenerator,u,l.datesAboveResources,t),h=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,l.slotLabelInterval,l.slotDuration,r),{dayMinWidth:m}=l,p=!m,b=m,y=l.dayHeaders&&i.createElement(n.ResourceDayHeader,{resources:u,dates:c.dayTableModel.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:p?this.renderHeadAxis:null}),C=!1!==l.allDaySlot&&(t=>i.createElement(d.ResourceDayTable,Object.assign({},o.allDay,{dateProfile:s,resourceDayTableModel:c,nextDayThreshold:l.nextDayThreshold,tableMinWidth:t.tableMinWidth,colGroupNode:t.tableColGroupNode,renderRowIntro:p?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:e.forPrint},this.getAllDayMaxEventProps()))),D=t=>i.createElement(R,Object.assign({},o.timed,{dateProfile:s,axis:p,slotDuration:l.slotDuration,slatMetas:h,resourceDayTableModel:c,tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:t.expandRows,forPrint:e.forPrint,onScrollTopRequest:this.handleScrollTopRequest}));return b?this.renderHScrollLayout(y,C,D,c.colCnt,m,h,this.state.slatCoords):this.renderSimpleLayout(y,C,D)}}function y(e,t,l,r,s){let o=a.buildTimeColsModel(e,t);return r?new n.DayResourceTableModel(o,l,s):new n.ResourceDayTableModel(o,l,s)}var C=l.createPlugin({name:"@fullcalendar/resource-timegrid",premiumReleaseDate:"2022-12-14",deps:[c.default,h.default,m.default],initialView:"resourceTimeGridDay",views:{resourceTimeGrid:{type:"timeGrid",component:b,needsResourceData:!0},resourceTimeGridDay:{type:"resourceTimeGrid",duration:{days:1}},resourceTimeGridWeek:{type:"resourceTimeGrid",duration:{weeks:1}}}}),D={__proto__:null,ResourceDayTimeColsView:b,ResourceDayTimeCols:R};return t.globalPlugins.push(C),e.Internal=D,e.default=C,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar.Internal,FullCalendar,FullCalendar.PremiumCommon,FullCalendar.Resource,FullCalendar.TimeGrid,FullCalendar.Preact,FullCalendar.TimeGrid.Internal,FullCalendar.Resource.Internal,FullCalendar.ResourceDayGrid.Internal);